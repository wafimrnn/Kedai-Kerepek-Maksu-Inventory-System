<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Product</title>
    <link rel="stylesheet" href="style/CreateProduct.css">
</head>
<body>

    <!-- Sidebar -->
    <div id="sidebar">
        <h2>Kedai Kerepek Maksu</h2>
        <ul>
            <li><a href="DashboardHome.jsp">Dashboard</a></li>
            <li><a href="ViewProduct.jsp">Products</a></li>
            <li><a href="#">Sales</a></li>
            <li><a href="#">Report</a></li>
            <li><a href="#">Account</a></li>
        </ul>
    </div>

    <!-- Create Product Form -->
    <main class="create-product-form">
        <h1>Add New Product</h1>
        <form action="CreateProductServlet" method="POST" enctype="multipart/form-data">
            <label for="productName">Product Name</label>
            <input type="text" id="productName" name="productName" required><br><br>

            <label for="price">Price</label>
            <input type="number" id="price" name="price" step="0.01" required><br><br>

            <label for="quantity">Quantity in Stock</label>
            <input type="number" id="quantity" name="quantity" required><br><br>

            <label for="expiryDate">Expiry Date</label>
            <input type="date" id="expiryDate" name="expiryDate" required><br><br>

            <label for="image">Product Image</label>
            <input type="file" id="image" name="image" accept="image/*"><br><br>

            <label for="category">Category</label>
            <select id="category" name="category" required>
                <option value="FOOD">Food</option>
                <option value="DRINK">Drink</option>
            </select>
            
            <!-- Food-Specific Fields -->
        <div id="foodFields" style="display: none;">
            <label for="weight">Weight (grams):</label>
            <input type="number" id="weight" name="weight">

            <label for="packagingType">Packaging Type:</label>
            <input type="text" id="packagingType" name="packagingType">
        </div>

        <!-- Drink-Specific Fields -->
        <div id="drinkFields" style="display: none;">
            <label for="volume">Volume (ml):</label>
            <input type="number" id="volume" name="volume">
        </div><br><br>

            <button type="submit">Add Product</button>
        </form>
    </main>
	
	<script>
    // Function to toggle category-specific fields
    function showCategoryFields() {
        // Retrieve selected category
        const category = document.getElementById("category").value;

        // Get the category-specific containers
        const foodFields = document.getElementById("foodFields");
        const drinkFields = document.getElementById("drinkFields");

        // Hide all category-specific fields initially
        foodFields.style.display = "none";
        drinkFields.style.display = "none";

        // Show fields based on selected category
        if (category === "FOOD") {
            foodFields.style.display = "block"; // Show food-specific fields
        } else if (category === "DRINK") {
            drinkFields.style.display = "block"; // Show drink-specific fields
        }
    }

    // Attach event listener and set initial state
    document.addEventListener("DOMContentLoaded", function () {
        const categoryDropdown = document.getElementById("category");
        categoryDropdown.addEventListener("change", showCategoryFields);

        // Call showCategoryFields on page load to initialize the fields
        showCategoryFields();
    });
	</script>


</body>
</html>